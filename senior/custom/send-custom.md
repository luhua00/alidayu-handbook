# 自定义短信接口

## 接口概述

接口名称：自定义短信接口
适用版本：2.x版本及以上版本的App.
接口地址：https://webapi.sms.mob.com/custom/msg

## 接口使用必备设置
需要到[Mob](http:www.mob.com)申请AppKey；
申请AppKey成功之后需要进入：
**后台管理**→**SecurityCodeSDK模块**→**短信设置**
>打开Http API 接口开关，设定接口调用的服务器IP地址；

>在 **SecurityCodeSDK模块**→**自定义短信**  中申请自定义短信模板；
等待审核通过，即可调用此接口。

## 接口使用
    注意事项：
    1.使用此接口的开发者请做好防刷机制，Mob提供的公共服务中不包含精细的防刷机制。
    2.自定义短信接口使用https协议进行数据传输；
    3.自定义短信接口可以使用POST方式访问，统一使用UTF-8编码；
    4.自定义短信接口的所有参数名和参数值都区分大小写；
    5.自定短信接口中传递的自定义参数和模板中定义的必须一致；
    6.短信模板中的自定义参数值不能为空，不能超过10个字符（不区分中英文）；
    7.短信内容总字数不能超过70个字符.(一个汉字算一个字符，一个英文字母算一个字符)
    
假设，申请自定义模板审核通过后的数据为：
模板编号：**4270530**
模板内容：**{name}到达{address}**

|参数名 &nbsp; &nbsp; &nbsp;|参数值类型 &nbsp; &nbsp;|是否必要 &nbsp; &nbsp; &nbsp;|描述|
|:-------|:----------|:--------|:-----:|
|appKey|String|是|appKey在mob申请获得的appKey的值,注意大小写| 
|templateCode|String|是|申请自定义模板审核通过后的模板编码。例：4270530|
|zone|String|是|国家代码。例：86|
|phone|String|是|手机号码。例：186xxxx9262|
|name|String|是|模板中{name}填充的值|
|address|String|是|模板中{address}填充的值|
 
 返回结果：
 ```
 {"status":200}
 ```
    
**返回的结果码：**

|结果代码 &nbsp;|描述|
|:-------|:-----:|
|200|提交成功|
|201|	appKey为空|
|202|	模板号为空|
|203|	appKey非法|
|204|	国家代码或者手机号码为空|
|205|	手机号码格式错误|
|206|	模板编号非法|
|207|	模板格式错误|
|208|	请求参数与模板参数不相符|
|209|	发送的短信中存在敏感词|
|210|	手机号码在黑名单中|
|211|	账户异常|
|212|	没有打开发送web短信的开关|
|213|	账户余额不足|
|214|	请求IP非法|
|215|	请求参数长度超限|
|218|	服务器繁忙|
